---
title: 📐 进阶推导：照度 (E) 与亮度 (L) 的数学本质与转化之谜（含 π 的由来）
date: 2026-01-08 10:00:00
tags: [光学算法, 朗伯体, 微积分, BRDF, 物理光学]
categories: 光学理论
index_img: /img/lambertian-model.jpg
excerpt: 为什么 E = πL 而不是 2πL？朗伯余弦定律到底在说什么？本文通过球坐标系下的微积分推导，彻底揭示照度与亮度之间的数学关系。
---

在光学设计中，我们经常遇到这样的场景：
已知探测器接收到的照度是 $E$ (Lux)，想推算出光源看起来有多亮 $L$ (Nits)。

很多工程师直接套用公式 $E = \pi L$。
但你有没有想过：**立体角明明是 $2\pi$（半球），为什么系数却是 $\pi$？**

本文将从微分几何的角度，硬核推导两者的转化关系。

---

## 01. 两个定义的再回顾

### 照度 (Illuminance, $E$)
$$E = \frac{d\Phi}{dA}$$
* **物理含义**：光通量在**面积**上的密度。
* **几何直观**：不管光是从哪个角度射进来的，只要落在这个面元 $dA$ 上，都算一份能量。它是“不挑食”的接收者。

### 亮度 (Luminance, $L$)
$$L = \frac{d^2\Phi}{dA \cdot \cos\theta \cdot d\Omega}$$
* **物理含义**：光通量在**投影面积**和**立体角**上的双重密度。
* **几何直观**：它不仅要求光落在 $dA$ 上，还严格限制了光的**入射/出射角度**。它是“极其挑剔”的描述者。

---

## 02. 关键连接点：朗伯体 (Lambertian Surface)

要建立 $E$ 和 $L$ 的简单关系，必须引入一个理想模型：**朗伯体**（如理想的漫反射白板、纸张、墙壁）。

**定义**：一个表面向各个方向反射（或发射）的光的**亮度 $L$ 是常数**，不随观察角度 $\theta$ 变化。
$$L(\theta) = L_0 = \text{Constant}$$

> **注意**：虽然亮度 $L$ 不变，但发光强度 $I$ 却遵循**余弦定律**：
> $$I(\theta) = I_0 \cos\theta$$
> *(这就是为什么你侧着看纸张，觉得亮度没变，但实际上侧面发出的总能量变少了，只是因为你的投影面积也按 $\cos\theta$ 变小了，两者抵消。)*



[Image of Lambertian cosine law diagram]


---

## 03. 核心推导：$\pi$ 是怎么来的？

假设我们有一个朗伯发光面 $dA$，亮度为 $L$。我们要计算它向半球空间辐射的总光出射度（也可以理解为对外的照度贡献）$M$。

根据定义，光通量是亮度在立体角上的积分：
$$d\Phi = \int_{\Omega} L \cdot dA \cos\theta \cdot d\Omega$$

我们要对**半球空间 (Hemisphere)** 进行积分。
在球坐标系下，立体角微元 $d\Omega$ 的表达式为：
$$d\Omega = \sin\theta d\theta d\phi$$
*(其中 $\theta$ 是天顶角 $0 \to \pi/2$，$\phi$ 是方位角 $0 \to 2\pi$)*

代入积分公式：
$$M = \frac{d\Phi}{dA} = \int_{0}^{2\pi} d\phi \int_{0}^{\frac{\pi}{2}} L \cdot \cos\theta \cdot \sin\theta d\theta$$

因为是朗伯体，**$L$ 是常数**，可以提到积分号外面：
$$M = L \int_{0}^{2\pi} d\phi \int_{0}^{\frac{\pi}{2}} \cos\theta \sin\theta d\theta$$

**第一步：积方位角 $\phi$**
$$\int_{0}^{2\pi} d\phi = 2\pi$$

**第二步：积天顶角 $\theta$**
利用三角恒等式 $\sin\theta \cos\theta = \frac{1}{2}\sin(2\theta)$：
$$\int_{0}^{\frac{\pi}{2}} \cos\theta \sin\theta d\theta = \left[ -\frac{1}{2} \cos^2\theta \right]_0^{\pi/2} = -\frac{1}{2}(0 - 1) = \frac{1}{2}$$

**第三步：合并结果**
$$M = L \cdot (2\pi) \cdot (\frac{1}{2})$$
$$M = \pi L$$

**结论**：
对于朗伯体，光出射度（或等效照度）与亮度的关系是：
$$\mathbf{E = \pi L}$$

这就是为什么系数是 $\pi$ 而不是 $2\pi$。**那个丢失的 $1/2$ 来自于 $\cos\theta$ (投影面积修正) 在积分过程中的衰减作用。**

---

## 04. 现实世界的复杂性：BRDF

如果表面不是朗伯体（比如镜子、金属、有光泽的塑料），$L$ 就不是常数，而是角度 $\theta$ 的函数。

这时候，简单的 $\pi$ 就不管用了，我们需要引入 **BRDF (双向反射分布函数)**：
$$f_r(\omega_i, \omega_o) = \frac{dL_o(\omega_o)}{dE_i(\omega_i)}$$

* **反射亮度** = **入射照度** $\times$ **BRDF**
$$L_{out} = \int_{\Omega} f_r \cdot L_{in} \cos\theta_i d\omega_i$$

在 Zemax 或 TracePro 等光学软件中，当你定义一个表面属性时，实际上就是在定义这个 $f_r$ 函数（是 Gaussian 散射，还是 Lambertian 散射，还是 ABg 散射模型）。

---

## 05. 总结

1.  **公式记忆**：
    * 一般情况：$L$ 是 $E$ 在角度上的微分。
    * **朗伯体特例**：$E = \pi L$。

2.  **单位换算**：
    * 如果你看到单位 **Lambert (L)**，它等于 $1/\pi \ cd/cm^2$。
    * 如果你看到单位 **Foot-Lambert (fL)**，它等于 $1/\pi \ cd/ft^2$。
    * 这些古老的单位里包含 $\pi$，就是为了让 $E$ 和 $L$ 的数值在朗伯体下相等（为了偷懒）。但在现代 SI 单位（Lux 和 Nit）中，你必须手动乘除这个 $\pi$。

3.  **应用场景**：
    * **屏幕校色**：色度仪测的是 $L$ (nits)，但计算屏幕总辐射功率时，如果假设屏幕是朗伯体，可以乘以 $\pi$ 估算总光通量密度。
    * **环境光传感器**：手机上的光感测的是 $E$ (lux)，它无法分辨光是集中来自一个灯泡，还是来自均匀的天花板。

---